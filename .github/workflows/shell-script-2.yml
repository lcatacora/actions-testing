# this script is used to test the action from a branch.

name: Call Script Test of branch


on:
  workflow_dispatch:
    inputs:
      MyEnvironment:
        description: 'Select the environment to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment2:
        description: 'Select the environment2 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment3:
        description: 'Select the environment3 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment4:
        description: 'Select the environment4 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment5:
        description: 'Select the environment5 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment6:
        description: 'Select the environment6 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment7:
        description: 'Select the environment7 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment8:
        description: 'Select the environment8 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment9:
        description: 'Select the environment9 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      Environment10:
        description: 'Select the environment10 to run the script'
        required: true
        default: dev
        options:
          - dev
          - staging
          - prod
        type: choice
      # Environment11:
      #   description: 'Select the environment11 to run the script'
      #   required: true
      #   default: dev
      #   options:
      #     - dev
      #     - staging
      #     - prod
      #   type: choice  

  # push:
    # branches: [main]
env:
  MyEnvironment11: prod2
  MYENVIRONMENT12: prod3
  ENVIRONMENT13: prod4
  ENVIRONMENT14: prod5

jobs:
  EnvSetup:
    name: Run Shell Script with Dynamic Environment Variables
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Set up environment variables
        id: set-env-vars    
        run: |
          echo "MyEnvironment=${{ inputs.MyEnvironment }}" >> "$GITHUB_OUTPUT"
          echo "MyEnvironment11=${{ env.MyEnvironment11 }}" >> "$GITHUB_OUTPUT"
          echo "ENVIRONMENT12=${{ env.MYENVIRONMENT12 }}" >> "$GITHUB_OUTPUT"

      - name: run shell script
        run: |
          echo "Running script ./scripts/myscript.sh"
          ./scripts/myscript.sh
          echo "done running script ./scripts/myscript.sh"
        env:
          MyEnvironment: ${{ inputs.MyEnvironment }}
          MyEnvironment11: ${{ env.MyEnvironment11 }}
          MYENVIRONMENT12: ${{ env.MYENVIRONMENT12 }}
          ENVIRONMENT2: ${{ inputs.Environment2 }}
          ENVIRONMENT3: ${{ inputs.Environment3 }}
          ENVIRONMENT4: ${{ inputs.Environment4 }}
          ENVIRONMENT5: ${{ inputs.Environment5 }}
          ENVIRONMENT6: ${{ inputs.Environment6 }}
          ENVIRONMENT7: ${{ inputs.Environment7 }}
          ENVIRONMENT8: ${{ inputs.Environment8 }}
          ENVIRONMENT9: ${{ inputs.Environment9 }}
          ENVIRONMENT10: ${{ inputs.Environment10 }}
          ENVIRONMENT11: ${{ inputs.Environment11 }}
          ENVIRONMENT12: ${{ env.ENVIRONMENT12 }}
          ENVIRONMENT13: ${{ env.ENVIRONMENT13 }}
          ENVIRONMENT14: ${{ env.ENVIRONMENT14 }}  
